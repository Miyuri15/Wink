{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 5, "column": 0}, "map": {"version":3,"sources":["turbopack://[project]/src/app/components/AddPostButton.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { useFormStatus } from \"react-dom\"\r\n\r\nconst AddPostButton = ()=>{\r\n\r\n    const {pending} = useFormStatus()\r\n    return(\r\n        <button className=\"bg-blue-500 p-2 mt-2 rounded-md text-white disabled:bg-slate-300 cursor-not-allowed\" disabled={pending}>\r\n            {pending ? (\r\n            <div className=\"flex items-center gap-2\">\r\n                <div className=\"inline-block h-[10px] w-[10px] animate-spin rounded-full border-2 border-white-300 border-solid border-e-transparent align-[-0.125em] text-surface motion-reduce:animate-[spin_1.5s_linear_infinite]\"></div>\r\n                    Sending\r\n            </div> \r\n           ) :( \"Send\")}\r\n        </button>\r\n    )\r\n}\r\n\r\nexport default AddPostButton"],"names":[],"mappings":";;;;;;AAAA;;;AAIA,MAAM,gBAAgB;IAElB,MAAM,EAAC,OAAO,EAAC,GAAG,CAAA,GAAA,sNAAA,CAAA,gBAAa,AAAD;IAC9B,qBACI,wPAAC;QAAO,WAAU;QAAsF,UAAU;kBAC7G,wBACD,wPAAC;YAAI,WAAU;;8BACX,wPAAC;oBAAI,WAAU;;;;;;gBAA6M;;;;;;mBAG5N;;;;;;AAGhB;uCAEe"}},
    {"offset": {"line": 43, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 48, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 73, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 78, "column": 0}, "map": {"version":3,"sources":["turbopack://[project]/src/app/components/AddPost.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { useUser } from \"@clerk/nextjs\";\r\nimport { auth } from \"@clerk/nextjs/server\";\r\nimport { CldUploadWidget } from \"next-cloudinary\";\r\nimport Image from \"next/image\"\r\nimport { useState } from \"react\";\r\nimport AddPostButton from \"./AddPostButton\";\r\nimport { addPost } from \"@/lib/actions\";\r\n\r\nconst AddPost = ()=> {\r\n\r\nconst {user, isLoaded} = useUser()\r\nconst [desc, setDesc] = useState(\"\")\r\nconst [img, setImg] = useState<any>()\r\n\r\n\r\nif(!isLoaded){\r\n    return \"Loading...\"\r\n}\r\n\r\n\r\n\r\n    return(\r\n        <div className=\"p-4 bg-white shadow-md rounded-lg flex gap-4 justify-between text-sm\">\r\n            {/* AVATAR */}\r\n            <Image src={user?.imageUrl || \"/noAvatar.png\"}\r\n            alt =\"\" \r\n            width={48} \r\n            height={48} \r\n            className=\"w-12 h-12 object-cover rounded-full\"/>\r\n            {/* POST */}\r\n            <div className=\"flex-1\">\r\n                {/* TEXT INPUT */}\r\n                <form action={(formData)=>addPost(formData,img?.secure_url || \"\")} className=\"flex gap-4\">\r\n                    <textarea placeholder=\"What's on your mind?\" className=\"bg-slate-100 rounded-lg flex-1 p-2\" \r\n                    name=\"desc\"\r\n                    onChange={(e)=>setDesc(e.target.value)}>\r\n                    </textarea>\r\n                    <div className=\"\">\r\n                    <Image src=\"/emoji.png\" \r\n                    alt =\"\" \r\n                    width={20} \r\n                    height={20}\r\n                     className=\"w-5 h-5 cursor-pointer self-end\"\r\n                     />\r\n                    <AddPostButton/>\r\n                    </div>\r\n                </form>\r\n                {/* POST OPTIONS */}\r\n                <div className=\"flex items-center gap-4 mt-4 text-gray-400 flex-wrap\">\r\n                <CldUploadWidget\r\n              uploadPreset=\"social\"\r\n              onSuccess={(result,{widget}) => {setImg(result.info); widget.close()}}\r\n            >\r\n              {({ open }) => {\r\n                return (\r\n                    <div className=\"flex items-center gap-2 cursor-pointer\" onClick={()=> open()}>\r\n                    <Image src=\"/addimage.png\"  alt =\"\" width={20} height={20}/>\r\n                    Photo\r\n                    </div>\r\n\r\n                );\r\n              }}\r\n            </CldUploadWidget>\r\n\r\n                    <div className=\"flex items-center gap-2 cursor-pointer\">\r\n                    <Image src=\"/addVideo.png\"  alt =\"\" width={20} height={20}/>\r\n                    Video\r\n                    </div>\r\n                    <div className=\"flex items-center gap-2 cursor-pointer\">\r\n                    <Image src=\"/addevent.png\"  alt =\"\" width={20} height={20}/>\r\n                    Event\r\n                    </div>\r\n                    <div className=\"flex items-center gap-2 cursor-pointer\">\r\n                    <Image src=\"/poll.png\"  alt =\"\" width={20} height={20}/>\r\n                    Poll\r\n                    </div>\r\n\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default AddPost"],"names":[],"mappings":";;;;;;;;;;;AAAA;;;;;;;;AAUA,MAAM,UAAU;IAEhB,MAAM,EAAC,IAAI,EAAE,QAAQ,EAAC,GAAG,CAAA,GAAA,4JAAA,CAAA,UAAO,AAAD;IAC/B,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,+MAAA,CAAA,WAAQ,AAAD,EAAE;IACjC,MAAM,CAAC,KAAK,OAAO,GAAG,CAAA,GAAA,+MAAA,CAAA,WAAQ,AAAD;IAG7B,IAAG,CAAC,UAAS;QACT,OAAO;IACX;IAII,qBACI,wPAAC;QAAI,WAAU;;0BAEX,wPAAC,6HAAA,CAAA,UAAK;gBAAC,KAAK,MAAM,YAAY;gBAC9B,KAAK;gBACL,OAAO;gBACP,QAAQ;gBACR,WAAU;;;;;;0BAEV,wPAAC;gBAAI,WAAU;;kCAEX,wPAAC;wBAAK,QAAQ,CAAC,WAAW,CAAA,GAAA,qHAAA,CAAA,UAAO,AAAD,EAAE,UAAS,KAAK,cAAc;wBAAK,WAAU;;0CACzE,wPAAC;gCAAS,aAAY;gCAAuB,WAAU;gCACvD,MAAK;gCACL,UAAU,CAAC,IAAI,QAAQ,EAAE,MAAM,CAAC,KAAK;;;;;;0CAErC,wPAAC;gCAAI,WAAU;;kDACf,wPAAC,6HAAA,CAAA,UAAK;wCAAC,KAAI;wCACX,KAAK;wCACL,OAAO;wCACP,QAAQ;wCACP,WAAU;;;;;;kDAEX,wPAAC,0IAAA,CAAA,UAAa;;;;;;;;;;;;;;;;;kCAIlB,wPAAC;wBAAI,WAAU;;0CACf,wPAAC,oJAAA,CAAA,kBAAe;gCAClB,cAAa;gCACb,WAAW,CAAC,QAAO,EAAC,MAAM,EAAC;oCAAM,OAAO,OAAO,IAAI;oCAAG,OAAO,KAAK;gCAAE;0CAEnE,CAAC,EAAE,IAAI,EAAE;oCACR,qBACI,wPAAC;wCAAI,WAAU;wCAAyC,SAAS,IAAK;;0DACtE,wPAAC,6HAAA,CAAA,UAAK;gDAAC,KAAI;gDAAiB,KAAK;gDAAG,OAAO;gDAAI,QAAQ;;;;;;4CAAK;;;;;;;gCAKlE;;;;;;0CAGM,wPAAC;gCAAI,WAAU;;kDACf,wPAAC,6HAAA,CAAA,UAAK;wCAAC,KAAI;wCAAiB,KAAK;wCAAG,OAAO;wCAAI,QAAQ;;;;;;oCAAK;;;;;;;0CAG5D,wPAAC;gCAAI,WAAU;;kDACf,wPAAC,6HAAA,CAAA,UAAK;wCAAC,KAAI;wCAAiB,KAAK;wCAAG,OAAO;wCAAI,QAAQ;;;;;;oCAAK;;;;;;;0CAG5D,wPAAC;gCAAI,WAAU;;kDACf,wPAAC,6HAAA,CAAA,UAAK;wCAAC,KAAI;wCAAa,KAAK;wCAAG,OAAO;wCAAI,QAAQ;;;;;;oCAAK;;;;;;;;;;;;;;;;;;;;;;;;;AAQ5E;uCAEe"}},
    {"offset": {"line": 283, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 288, "column": 0}, "map": {"version":3,"sources":["turbopack://[project]/src/app/components/feed/CommentList.tsx"],"sourcesContent":["\"use client\"\r\nimport { addComment } from \"@/lib/actions\";\r\nimport { useUser } from \"@clerk/nextjs\";\r\nimport { User,Comment} from \"@prisma/client\";\r\nimport Image from \"next/image\"\r\nimport { useOptimistic, useState } from \"react\";\r\n\r\ntype CommentWithUser = Comment & {user:User}\r\n\r\nconst CommentList = ({comments,postId}:{comments:CommentWithUser[];postId:number})=>{\r\n\r\nconst {user} = useUser()\r\nconst [commentState, setCommentState] = useState(comments)\r\nconst [desc, setDesc] = useState(\"\")\r\n\r\nconst add = async ()=>{\r\n    if(!user || !desc) return;\r\n\r\n    addOptimisticComment({\r\n        id:Math.random(),\r\n        desc,\r\n        createdAt:new Date(Date.now()),\r\n        updatedAt:new Date(Date.now()),\r\n        userId:user.id,\r\n        postId:postId,\r\n        user:{\r\n            id:user.id,\r\n            username:\"Sending Please wait...\",\r\n            avatar:user.imageUrl || \"/noAvatar.png\",\r\n            cover:\"\",\r\n            description:\"\",\r\n            name:\"\",\r\n            city:\"\",\r\n            surname:\"\",\r\n            work:\"\",\r\n            school:\"\",\r\n            website:\"\",\r\n            createdAt: new Date(Date.now()),\r\n        }\r\n\r\n    });\r\n\r\n    try{\r\n        const createdComment = await addComment(postId,desc)\r\n        setCommentState((prev)=> [createdComment,...prev])\r\n    }catch(err){}\r\n\r\n}\r\n\r\nconst [optimisticComments,addOptimisticComment] = useOptimistic(commentState,\r\n    (state,value:CommentWithUser)=>[value,...state]\r\n)\r\n    return(\r\n        <div className=\"\">\r\n         {user && (<div className=\"flex items-center gap-4\">\r\n            <Image src={user.imageUrl || \"/noAvatar.png\"} alt=\"\" width={32} height={32} className=\"w-8 h-8 rounded-full\"/>\r\n               <div className=\"flex-1 flex items-center justify-between bg-slate-100 rounded-xl text-sm px-6 py-2 w-full\">\r\n                   <form action = {add}>\r\n                    <input type=\"text\" placeholder=\"Write a comment...\" className=\"bg-transparent outline-none flex-1\"\r\n                     onChange={e=>setDesc(e.target.value)} />\r\n                    <Image src=\"/emoji.png\" alt=\"\" width={16} height={16} className=\"cursor-pointer\"\r\n                    />\r\n                    </form>\r\n                </div>\r\n         </div> )}  \r\n        {/* COMMENT */}\r\n        {optimisticComments.map(comment=>(\r\n\r\n       <div className=\"flex gap-4 justify-between mt-6\" key={comment.id}>\r\n            {/* AVATAR */}\r\n            <Image src={comment.user.avatar || \"/noAvatar.png\"} alt=\"\" width={40} height={40} className=\"w-10 h-10 rounded-full\"/>\r\n            {/* DESCRIPTION */}\r\n            <div className=\"flex flex-col gap-2 flex-1\">\r\n                <span className=\"font-medium\">{comment.user.name && comment.user.surname ? comment.user.name + \"\" + comment.user.surname : comment.user.username}</span>\r\n                <p>{comment.desc}</p>\r\n            <div className=\"flex items-center gap-8 text-sm text-gray-500 mt-2\">\r\n                <div className=\"flex items-center gap-4\">\r\n                <Image src=\"/like.png\" alt=\"\" width={12} height={12} className=\"cursor-pointer w-4 h-4\"></Image>\r\n                <span className=\"text-gray-300\">|</span>\r\n                <span className=\"text-gray-500\">0 Likes</span>\r\n                </div>\r\n                <div className=\"\">Reply</div>\r\n            </div>\r\n            </div>\r\n            {/* ICON */}\r\n            <Image src=\"/more.png\" alt=\"\" width={16} height={16} className=\"cursor-pointer w-4 h-4\"></Image>\r\n        </div>\r\n         ))\r\n        }\r\n    </div>\r\n)\r\n}\r\n\r\nexport default CommentList"],"names":[],"mappings":"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"}},
    {"offset": {"line": 519, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 524, "column": 0}, "map": {"version":3,"sources":["turbopack://[project]/src/app/components/feed/PostInteraction.tsx"],"sourcesContent":["\"use client\"\r\nimport { switchLike } from \"@/lib/actions\"\r\nimport { useAuth } from \"@clerk/nextjs\"\r\nimport Image from \"next/image\"\r\nimport { useOptimistic, useState } from \"react\"\r\n\r\nconst PostInteraction = ({postId, likes, commentNumber}:{postId:number, likes:string[], commentNumber:number})=>{\r\n\r\n    const {isLoaded,userId}= useAuth()\r\n    const [likeState , setLikeState] = useState({\r\n        likeCount:likes.length,\r\n        isLiked:userId ? likes.includes(userId) : false,\r\n    })\r\n\r\n    const [optimisticLike , switchOptimisticLike] = useOptimistic(likeState,(state,value)=>{\r\n        return{\r\n            likeCount: state.isLiked ? state.likeCount-1 : state.likeCount+1,\r\n            isLiked: !state.isLiked,\r\n        }\r\n    })\r\n\r\n    const likeAction = async ()=> {\r\n        switchOptimisticLike(\"\")\r\n        try{\r\n            switchLike(postId);\r\n            setLikeState((state)=> ({\r\n                likeCount: state.isLiked ? state.likeCount-1 : state.likeCount+1,\r\n                isLiked: !state.isLiked,\r\n    \r\n            }))\r\n        }catch(err){\r\n            console.log(err)\r\n        }\r\n    }\r\n    return(\r\n        <div className=\"flex items-center justify-between text- my-4\">\r\n        <div className=\"flex gap-8\">\r\n            <div className=\"flex items-center gap-4 bg-slate-50 p-2 rounded-xl\">\r\n            <form action ={likeAction}>\r\n            <button>\r\n            <Image src={optimisticLike.isLiked ? \"/liked.png\" : \"/like.png\"} width={16} height={16} alt=\"\" className=\"cursor-pointer\"/>\r\n            </button>\r\n            </form>\r\n            <span className=\"text-gray-300\">|</span>\r\n            <span className=\"text-gray-500\">{optimisticLike.likeCount}<span className=\"hidden md:inline\"> Likes</span></span>\r\n            </div>\r\n\r\n            <div className=\"flex items-center gap-4 bg-slate-100 p-2 rounded-xl\">\r\n            <Image src=\"/comment.png\" width={16} height={16} alt=\"\" className=\"cursor-pointer\"/>\r\n            <span className=\"text-gray-300\">|</span>\r\n            <span className=\"text-gray-500\">{commentNumber}<span className=\"hidden md:inline\"> Comments</span></span>\r\n            </div>\r\n\r\n        </div>\r\n        <div className=\"\">\r\n        <div className=\"flex items-center gap-4 bg-slate-100 p-2 rounded-xl\">\r\n            <Image src=\"/share.png\" width={16} height={16} alt=\"\" className=\"cursor-pointer\"/>\r\n            <span className=\"text-gray-300\">|</span>\r\n            <span className=\"text-gray-500\"><span className=\"hidden md:inline \"> Share</span></span>\r\n            </div>\r\n\r\n        </div>\r\n    </div>\r\n)\r\n}\r\n\r\nexport default PostInteraction"],"names":[],"mappings":";;;;;;;;;AAAA;;;;;;AAMA,MAAM,kBAAkB,CAAC,EAAC,MAAM,EAAE,KAAK,EAAE,aAAa,EAAuD;IAEzG,MAAM,EAAC,QAAQ,EAAC,MAAM,EAAC,GAAE,CAAA,GAAA,uLAAA,CAAA,UAAO,AAAD;IAC/B,MAAM,CAAC,WAAY,aAAa,GAAG,CAAA,GAAA,+MAAA,CAAA,WAAQ,AAAD,EAAE;QACxC,WAAU,MAAM,MAAM;QACtB,SAAQ,SAAS,MAAM,QAAQ,CAAC,UAAU;IAC9C;IAEA,MAAM,CAAC,gBAAiB,qBAAqB,GAAG,CAAA,GAAA,+MAAA,CAAA,gBAAa,AAAD,EAAE,WAAU,CAAC,OAAM;QAC3E,OAAM;YACF,WAAW,MAAM,OAAO,GAAG,MAAM,SAAS,GAAC,IAAI,MAAM,SAAS,GAAC;YAC/D,SAAS,CAAC,MAAM,OAAO;QAC3B;IACJ;IAEA,MAAM,aAAa;QACf,qBAAqB;QACrB,IAAG;YACC,CAAA,GAAA,qHAAA,CAAA,aAAU,AAAD,EAAE;YACX,aAAa,CAAC,QAAS,CAAC;oBACpB,WAAW,MAAM,OAAO,GAAG,MAAM,SAAS,GAAC,IAAI,MAAM,SAAS,GAAC;oBAC/D,SAAS,CAAC,MAAM,OAAO;gBAE3B,CAAC;QACL,EAAC,OAAM,KAAI;YACP,QAAQ,GAAG,CAAC;QAChB;IACJ;IACA,qBACI,wPAAC;QAAI,WAAU;;0BACf,wPAAC;gBAAI,WAAU;;kCACX,wPAAC;wBAAI,WAAU;;0CACf,wPAAC;gCAAK,QAAS;0CACf,cAAA,wPAAC;8CACD,cAAA,wPAAC,6HAAA,CAAA,UAAK;wCAAC,KAAK,eAAe,OAAO,GAAG,eAAe;wCAAa,OAAO;wCAAI,QAAQ;wCAAI,KAAI;wCAAG,WAAU;;;;;;;;;;;;;;;;0CAGzG,wPAAC;gCAAK,WAAU;0CAAgB;;;;;;0CAChC,wPAAC;gCAAK,WAAU;;oCAAiB,eAAe,SAAS;kDAAC,wPAAC;wCAAK,WAAU;kDAAmB;;;;;;;;;;;;;;;;;;kCAG7F,wPAAC;wBAAI,WAAU;;0CACf,wPAAC,6HAAA,CAAA,UAAK;gCAAC,KAAI;gCAAe,OAAO;gCAAI,QAAQ;gCAAI,KAAI;gCAAG,WAAU;;;;;;0CAClE,wPAAC;gCAAK,WAAU;0CAAgB;;;;;;0CAChC,wPAAC;gCAAK,WAAU;;oCAAiB;kDAAc,wPAAC;wCAAK,WAAU;kDAAmB;;;;;;;;;;;;;;;;;;;;;;;;0BAItF,wPAAC;gBAAI,WAAU;0BACf,cAAA,wPAAC;oBAAI,WAAU;;sCACX,wPAAC,6HAAA,CAAA,UAAK;4BAAC,KAAI;4BAAa,OAAO;4BAAI,QAAQ;4BAAI,KAAI;4BAAG,WAAU;;;;;;sCAChE,wPAAC;4BAAK,WAAU;sCAAgB;;;;;;sCAChC,wPAAC;4BAAK,WAAU;sCAAgB,cAAA,wPAAC;gCAAK,WAAU;0CAAoB;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAMhF;uCAEe"}},
    {"offset": {"line": 738, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 743, "column": 0}, "map": {"version":3,"sources":["turbopack://[project]/src/app/components/feed/PostInfo.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { useState } from \"react\"\r\nimport Image from \"next/image\"\r\nimport { deletePost } from \"@/lib/actions\"\r\n\r\nconst PostInfo = ({postId}:{postId:number})=>{\r\n\r\n    const [open, setOpen] = useState(false)\r\n    const deletePostWithId = deletePost.bind(null,postId)\r\n\r\n    return(\r\n        <div className=\"relative\">\r\n            <Image src=\"/more.png\" width={16} height={16} alt=\"\"\r\n            onClick={()=>setOpen((prev)=>!prev)} className=\"cursor-pointer\"/>\r\n            {open && (\r\n                <div className=\"absolute top-4 right-0 bg-white p-4 w-32 rounded-lg flex flex-col gap-2 text-xs shadow-lg z-30 \">\r\n                    <span className=\"cursor-pointer\">View</span>\r\n                    <span className=\"cursor-pointer\">Re-post</span>\r\n                    <form action={deletePostWithId}>\r\n                        <button className=\"text-red-500\">Delete</button>\r\n                    </form>\r\n                </div>\r\n            )}\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default PostInfo"],"names":[],"mappings":";;;;;;;;AAAA;;;;;AAMA,MAAM,WAAW,CAAC,EAAC,MAAM,EAAiB;IAEtC,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,+MAAA,CAAA,WAAQ,AAAD,EAAE;IACjC,MAAM,mBAAmB,qHAAA,CAAA,aAAU,CAAC,IAAI,CAAC,MAAK;IAE9C,qBACI,wPAAC;QAAI,WAAU;;0BACX,wPAAC,6HAAA,CAAA,UAAK;gBAAC,KAAI;gBAAY,OAAO;gBAAI,QAAQ;gBAAI,KAAI;gBAClD,SAAS,IAAI,QAAQ,CAAC,OAAO,CAAC;gBAAO,WAAU;;;;;;YAC9C,sBACG,wPAAC;gBAAI,WAAU;;kCACX,wPAAC;wBAAK,WAAU;kCAAiB;;;;;;kCACjC,wPAAC;wBAAK,WAAU;kCAAiB;;;;;;kCACjC,wPAAC;wBAAK,QAAQ;kCACV,cAAA,wPAAC;4BAAO,WAAU;sCAAe;;;;;;;;;;;;;;;;;;;;;;;AAOzD;uCAEe"}},
    {"offset": {"line": 822, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 827, "column": 0}, "map": {"version":3,"sources":["turbopack://[project]/src/app/components/rightMenu/FriendRequestList.tsx"],"sourcesContent":["\"use client\"\r\nimport { acceptFollowRequest, declineFollowRequest } from \"@/lib/actions\"\r\nimport { FollowRequest, User } from \"@prisma/client\"\r\nimport Image from \"next/image\"\r\nimport { useOptimistic, useState } from \"react\"\r\n\r\ntype RequestWithUser = FollowRequest & {\r\n    sender: User\r\n}\r\nconst FriendRequestList = ({requests}:{requests:RequestWithUser[]})=>{\r\nconst [requestState,setRequestState]= useState(requests)\r\n\r\nconst accept = async (requestId:number, userId:string)=>{\r\n    removeOptimisticRequests(requestId)\r\n    try{\r\n        await acceptFollowRequest(userId)\r\n        setRequestState((prev) => prev.filter((req)=> req.id !== requestId))\r\n    }catch(err){\r\n        console.log(err)\r\n    }\r\n}\r\n\r\nconst decline = async (requestId:number, userId:string)=>{\r\n    removeOptimisticRequests(requestId)\r\n    try{\r\n        await declineFollowRequest(userId)\r\n        setRequestState((prev) => prev.filter((req)=> req.id !== requestId))\r\n    }catch(err){\r\n        console.log(err)\r\n    }\r\n}\r\n\r\n\r\nconst [optimisticRequests, removeOptimisticRequests] = useOptimistic(\r\n    requestState,\r\n    (state,value:number) => state.filter((req)=>req.id !== value)\r\n)\r\n\r\n    return(\r\n        <div className=\"\">\r\n        {optimisticRequests.map(request =>(\r\n\r\n        <div className=\"flex items-center justify-between\" key={request.id}>\r\n            <div className=\" flex items-center gap-4\">\r\n                <Image src={request.sender.avatar || \"/noAvatar.png\"} alt=\"\" width={40} height={40} className=\"w-10 h-10 rounded-full object-cover\"/>\r\n                <span className=\"font-semibold\"> {request.sender.name ? request.sender.name + \"\" : request.sender.username}</span>\r\n            </div>\r\n            <div className=\"flex gap-3 justify-end\">\r\n                <form action = {()=>accept(request.id, request.sender.id)}>\r\n                    <button>\r\n                    <Image src=\"/accept.png\" alt=\"\" width={20} height={20} className=\"cursor-pointer\"/>\r\n                    </button>\r\n                </form>\r\n                <form action = {()=>decline(request.id, request.sender.id)}>\r\n                    <button>\r\n                    <Image src=\"/reject.png\" alt=\"\" width={20} height={20} className=\"cursor-pointer\"/>\r\n                    </button>\r\n                </form>\r\n\r\n            </div>\r\n            \r\n        </div>\r\n    ))}\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default FriendRequestList"],"names":[],"mappings":";;;;;;;;AAAA;;;;;AASA,MAAM,oBAAoB,CAAC,EAAC,QAAQ,EAA8B;IAClE,MAAM,CAAC,cAAa,gBAAgB,GAAE,CAAA,GAAA,+MAAA,CAAA,WAAQ,AAAD,EAAE;IAE/C,MAAM,SAAS,OAAO,WAAkB;QACpC,yBAAyB;QACzB,IAAG;YACC,MAAM,CAAA,GAAA,qHAAA,CAAA,sBAAmB,AAAD,EAAE;YAC1B,gBAAgB,CAAC,OAAS,KAAK,MAAM,CAAC,CAAC,MAAO,IAAI,EAAE,KAAK;QAC7D,EAAC,OAAM,KAAI;YACP,QAAQ,GAAG,CAAC;QAChB;IACJ;IAEA,MAAM,UAAU,OAAO,WAAkB;QACrC,yBAAyB;QACzB,IAAG;YACC,MAAM,CAAA,GAAA,qHAAA,CAAA,uBAAoB,AAAD,EAAE;YAC3B,gBAAgB,CAAC,OAAS,KAAK,MAAM,CAAC,CAAC,MAAO,IAAI,EAAE,KAAK;QAC7D,EAAC,OAAM,KAAI;YACP,QAAQ,GAAG,CAAC;QAChB;IACJ;IAGA,MAAM,CAAC,oBAAoB,yBAAyB,GAAG,CAAA,GAAA,+MAAA,CAAA,gBAAa,AAAD,EAC/D,cACA,CAAC,OAAM,QAAiB,MAAM,MAAM,CAAC,CAAC,MAAM,IAAI,EAAE,KAAK;IAGvD,qBACI,wPAAC;QAAI,WAAU;kBACd,mBAAmB,GAAG,CAAC,CAAA,wBAExB,wPAAC;gBAAI,WAAU;;kCACX,wPAAC;wBAAI,WAAU;;0CACX,wPAAC,6HAAA,CAAA,UAAK;gCAAC,KAAK,QAAQ,MAAM,CAAC,MAAM,IAAI;gCAAiB,KAAI;gCAAG,OAAO;gCAAI,QAAQ;gCAAI,WAAU;;;;;;0CAC9F,wPAAC;gCAAK,WAAU;;oCAAgB;oCAAE,QAAQ,MAAM,CAAC,IAAI,GAAG,QAAQ,MAAM,CAAC,IAAI,GAAG,KAAK,QAAQ,MAAM,CAAC,QAAQ;;;;;;;;;;;;;kCAE9G,wPAAC;wBAAI,WAAU;;0CACX,wPAAC;gCAAK,QAAU,IAAI,OAAO,QAAQ,EAAE,EAAE,QAAQ,MAAM,CAAC,EAAE;0CACpD,cAAA,wPAAC;8CACD,cAAA,wPAAC,6HAAA,CAAA,UAAK;wCAAC,KAAI;wCAAc,KAAI;wCAAG,OAAO;wCAAI,QAAQ;wCAAI,WAAU;;;;;;;;;;;;;;;;0CAGrE,wPAAC;gCAAK,QAAU,IAAI,QAAQ,QAAQ,EAAE,EAAE,QAAQ,MAAM,CAAC,EAAE;0CACrD,cAAA,wPAAC;8CACD,cAAA,wPAAC,6HAAA,CAAA,UAAK;wCAAC,KAAI;wCAAc,KAAI;wCAAG,OAAO;wCAAI,QAAQ;wCAAI,WAAU;;;;;;;;;;;;;;;;;;;;;;;eAbrB,QAAQ,EAAE;;;;;;;;;;AAwB1E;uCAEe"}},
    {"offset": {"line": 967, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 972, "column": 0}, "map": {"version":3,"sources":["turbopack://[project]/src/app/components/rightMenu/UserInfoCardInteraction.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { switchBlock, switchFollow } from \"@/lib/actions\";\r\nimport { useOptimistic, useState } from \"react\";\r\n\r\nconst UserInfoCardInteraction = ({\r\n  userId,\r\n  isUserBlocked,\r\n  isFollowing,\r\n  isFollowingSent,\r\n}: {\r\n  userId: string;\r\n  isUserBlocked: boolean;\r\n  isFollowing: boolean;\r\n  isFollowingSent: boolean;\r\n}) => {\r\n  const [userState, setUserState] = useState({\r\n    following: isFollowing,\r\n    blocked: isUserBlocked,\r\n    followingRequestSent: isFollowingSent,\r\n  });\r\n\r\n  const follow = async () => {\r\n    switchOptimisticState(\"follow\");\r\n    try {\r\n      await switchFollow(userId);\r\n      setUserState((prev) => ({\r\n        ...prev,\r\n        following: prev.following && false,\r\n        followingRequestSent:\r\n          !prev.following && !prev.followingRequestSent ? true : false,\r\n      }));\r\n    } catch (err) {}\r\n  };\r\n\r\n  const block = async () => {\r\n    switchOptimisticState(\"block\");\r\n    try {\r\n      await switchBlock(userId);\r\n      setUserState((prev) => ({\r\n        ...prev,\r\n        blocked: !prev.blocked,\r\n      }));\r\n    } catch (err) {}\r\n  };\r\n\r\n  const [optimisticState, switchOptimisticState] = useOptimistic(\r\n    userState,\r\n    (state, value: \"follow\" | \"block\") =>\r\n      value === \"follow\"\r\n        ? {\r\n            ...state,\r\n            following: state.following && false,\r\n            followingRequestSent:\r\n              !state.following && !state.followingRequestSent ? true : false,\r\n          }\r\n        : { ...state, blocked: !state.blocked }\r\n  );\r\n  return (\r\n    <>\r\n      <form action={follow}>\r\n        <button className=\"w-full bg-blue-500 text-white text-sm rounded-md p-2\">\r\n          {optimisticState.following\r\n            ? \"Following\"\r\n            : optimisticState.followingRequestSent\r\n            ? \"Friend Request Sent\"\r\n            : \"Follow\"}\r\n        </button>\r\n      </form>\r\n      <form action={block} className=\"self-end \">\r\n        <button>\r\n          <span className=\"text-red-400 text-xs cursor-pointer\">\r\n            {optimisticState.blocked ? \"Unblock User\" : \"Block User\"}\r\n          </span>\r\n        </button>\r\n      </form>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default UserInfoCardInteraction;"],"names":[],"mappings":";;;;;;;AAAA;;;;AAKA,MAAM,0BAA0B,CAAC,EAC/B,MAAM,EACN,aAAa,EACb,WAAW,EACX,eAAe,EAMhB;IACC,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,+MAAA,CAAA,WAAQ,AAAD,EAAE;QACzC,WAAW;QACX,SAAS;QACT,sBAAsB;IACxB;IAEA,MAAM,SAAS;QACb,sBAAsB;QACtB,IAAI;YACF,MAAM,CAAA,GAAA,qHAAA,CAAA,eAAY,AAAD,EAAE;YACnB,aAAa,CAAC,OAAS,CAAC;oBACtB,GAAG,IAAI;oBACP,WAAW,KAAK,SAAS,IAAI;oBAC7B,sBACE,CAAC,KAAK,SAAS,IAAI,CAAC,KAAK,oBAAoB,GAAG,OAAO;gBAC3D,CAAC;QACH,EAAE,OAAO,KAAK,CAAC;IACjB;IAEA,MAAM,QAAQ;QACZ,sBAAsB;QACtB,IAAI;YACF,MAAM,CAAA,GAAA,qHAAA,CAAA,cAAW,AAAD,EAAE;YAClB,aAAa,CAAC,OAAS,CAAC;oBACtB,GAAG,IAAI;oBACP,SAAS,CAAC,KAAK,OAAO;gBACxB,CAAC;QACH,EAAE,OAAO,KAAK,CAAC;IACjB;IAEA,MAAM,CAAC,iBAAiB,sBAAsB,GAAG,CAAA,GAAA,+MAAA,CAAA,gBAAa,AAAD,EAC3D,WACA,CAAC,OAAO,QACN,UAAU,WACN;YACE,GAAG,KAAK;YACR,WAAW,MAAM,SAAS,IAAI;YAC9B,sBACE,CAAC,MAAM,SAAS,IAAI,CAAC,MAAM,oBAAoB,GAAG,OAAO;QAC7D,IACA;YAAE,GAAG,KAAK;YAAE,SAAS,CAAC,MAAM,OAAO;QAAC;IAE5C,qBACE;;0BACE,wPAAC;gBAAK,QAAQ;0BACZ,cAAA,wPAAC;oBAAO,WAAU;8BACf,gBAAgB,SAAS,GACtB,cACA,gBAAgB,oBAAoB,GACpC,wBACA;;;;;;;;;;;0BAGR,wPAAC;gBAAK,QAAQ;gBAAO,WAAU;0BAC7B,cAAA,wPAAC;8BACC,cAAA,wPAAC;wBAAK,WAAU;kCACb,gBAAgB,OAAO,GAAG,iBAAiB;;;;;;;;;;;;;;;;;;AAMxD;uCAEe"}},
    {"offset": {"line": 1061, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1066, "column": 0}, "map": {"version":3,"sources":["turbopack://[project]/src/app/components/rightMenu/UpdateButton.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useFormStatus } from \"react-dom\";\r\n\r\nconst UpdateButton = () => {\r\n  const { pending } = useFormStatus();\r\n\r\n  return (\r\n    <button\r\n      className=\"bg-blue-500 p-2 mt-2 rounded-md text-white disabled:bg-opacity-50 disabled:cursor-not-allowed\"\r\n      disabled={pending}\r\n    >\r\n      {pending ? \"Updating...\" : \"Update\"}\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default UpdateButton;"],"names":[],"mappings":";;;;;;AAAA;;;AAIA,MAAM,eAAe;IACnB,MAAM,EAAE,OAAO,EAAE,GAAG,CAAA,GAAA,sNAAA,CAAA,gBAAa,AAAD;IAEhC,qBACE,wPAAC;QACC,WAAU;QACV,UAAU;kBAET,UAAU,gBAAgB;;;;;;AAGjC;uCAEe"}},
    {"offset": {"line": 1088, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1093, "column": 0}, "map": {"version":3,"sources":["turbopack://[project]/src/app/components/rightMenu/UpdateUser.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { User } from \"@prisma/client\"\r\nimport { useActionState, useState } from \"react\"\r\nimport Image from \"next/image\"\r\nimport { updateProfile } from \"@/lib/actions\"\r\nimport {CldUploadWidget} from \"next-cloudinary\"\r\nimport { useRouter } from \"next/navigation\"\r\nimport UpdateButton from \"./UpdateButton\"\r\n\r\nconst UpdateUser = ({user} : {user:User})=> {\r\n    const [cover, setCover] = useState<any>(false)\r\n    const [open,setOpen] = useState(false)\r\n\r\n    const [state, formAction] = useActionState(updateProfile,{success:false, error:false})\r\n   \r\n    const router = useRouter()\r\n\r\n    const handleClose = ()=>{\r\n        setOpen(false)\r\n        state.success && router.refresh()\r\n    }\r\n\r\n   \r\n   return(\r\n        <div className=\"\">\r\n            <span className = \"text-blue-500 text-xs cursor-pointer\" onClick = {()=>setOpen(true)}>Update</span>\r\n            {open && (<div className=\"absolute w-screen h-screen top-0 left-0 bg-black bg-opacity-65 flex items-center justify-center z-50 \">\r\n                <form action={(formData)=>formAction({formData,cover:cover?.secure_url|| \"\"})} className=\"p-12 bh-whte rounded-lg shadow-md flex flex-col gap-2 w-full md:w-1/2 xl:w-1/3 relative\">\r\n                   {/* TITLE */}\r\n                    <h1>Update Profile</h1>\r\n                <div className=\"mt-4 text-xs text-gray\">\r\n                   Use the navbar profile to change the avater or username \r\n                </div>\r\n                {/* COVER PIC UPLOAD */}\r\n\r\n             <CldUploadWidget\r\n              uploadPreset=\"social\"\r\n              onSuccess={(result) => setCover(result.info)}\r\n            >\r\n              {({ open }) => {\r\n                return (\r\n                  <div\r\n                    className=\"flex flex-col gap-4 my-4\"\r\n                    onClick={() => open()}\r\n                  >\r\n                    <label htmlFor=\"\">Cover Picture</label>\r\n                    <div className=\"flex items-center gap-2 cursor-pointer\">\r\n                      <Image\r\n                        src={user.cover || \"/noCover.png\"}\r\n                        alt=\"\"\r\n                        width={48}\r\n                        height={32}\r\n                        className=\"w-12 h-8 rounded-md object-cover\"\r\n                      />\r\n                      <span className=\"text-xs underline text-gray-600\">\r\n                        Change\r\n                      </span>\r\n                    </div>\r\n                  </div>\r\n                );\r\n              }}\r\n            </CldUploadWidget>\r\n                {/* WRAPPER */}\r\n                <div className=\"flex flex-wrap justify-between gap-2 xl:gap-4 \">\r\n                    {/* INPUT */}\r\n                    <div className=\"flex flex-col gap-4\">\r\n                        <label htmlFor=\"\" className=\"text-xs text-gray-500 \">First Name</label>\r\n                        <input type=\"text\" placeholder={user.name || \"Miyu\"} className=\"ring-1 ring-gray-300 p-[13px] rounded-md text-sm\"name=\"name\"/>\r\n                    </div>\r\n\r\n                   {/* INPUT */}\r\n                    <div className=\"flex flex-col gap-4\">\r\n                        <label htmlFor=\"\" className=\"text-xs text-gray-500 \">Surname Name</label>\r\n                        <input type=\"text\" placeholder={user.surname || \"\"} className=\"ring-1 ring-gray-300 p-[13px] rounded-md text-sm\" name=\"surname\"/>\r\n                    </div>\r\n\r\n                {/* INPUT */}\r\n                    <div className=\"flex flex-col gap-4\">\r\n                        <label htmlFor=\"\" className=\"text-xs text-gray-500 \">Description</label>\r\n                        <input type=\"text\" placeholder={user.description || \"love yourself first\"} className=\"ring-1 ring-gray-300 p-[13px] rounded-md text-sm\" name=\"description\"/>\r\n                    </div>\r\n\r\n                {/* INPUT */}\r\n                    <div className=\"flex flex-col gap-4\">\r\n                        <label htmlFor=\"\" className=\"text-xs text-gray-500 \">City</label>\r\n                        <input type=\"text\" placeholder={user.city || \"Sri Lanka\"}className=\"ring-1 ring-gray-300 p-[13px] rounded-md text-sm\" name=\"city\" />\r\n                    </div>\r\n\r\n                {/* INPUT */}\r\n                    <div className=\"flex flex-col gap-4\">\r\n                        <label htmlFor=\"\" className=\"text-xs text-gray-500 \">Went to</label>\r\n                        <input type=\"text\" placeholder={user.school || \"SLIIT\"}className=\"ring-1 ring-gray-300 p-[13px] rounded-md text-sm\" name=\"school\" />\r\n                    </div>\r\n\r\n                {/* INPUT */}\r\n                    <div className=\"flex flex-col gap-4\">\r\n                        <label htmlFor=\"\" className=\"text-xs text-gray-500 \">Work at</label>\r\n                        <input type=\"text\" placeholder={user.work || \"MIYU\"}className=\"ring-1 ring-gray-300 p-[13px] rounded-md text-sm\" name=\"work\" />\r\n                    </div>\r\n              {/* INPUT */}\r\n                    <div className=\"flex flex-col gap-4\">\r\n                        <label htmlFor=\"\" className=\"text-xs text-gray-500 \">Website</label>\r\n                        <input type=\"text\" placeholder={user.website || \"MIYU.dev\"} className=\"ring-1 ring-gray-300 p-[13px] rounded-md text-sm\" name=\"website\"/>\r\n                    </div>\r\n                </div>\r\n\r\n                <UpdateButton/>\r\n                {state.success && <span className=\"text-green-500\">Profile has been updated!</span>}\r\n                {state.error && <span className=\"text-red-500\">Something went wrong!</span>}\r\n                <div className=\"absolute text-xl right-2 top-3 cursor-pointer\" onClick={handleClose}>\r\n                    X\r\n                 </div>\r\n                </form>\r\n            </div>\r\n            )}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default UpdateUser"],"names":[],"mappings":";;;;;;;;;;;AAAA;;;;;;;;AAUA,MAAM,aAAa,CAAC,EAAC,IAAI,EAAe;IACpC,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,+MAAA,CAAA,WAAQ,AAAD,EAAO;IACxC,MAAM,CAAC,MAAK,QAAQ,GAAG,CAAA,GAAA,+MAAA,CAAA,WAAQ,AAAD,EAAE;IAEhC,MAAM,CAAC,OAAO,WAAW,GAAG,CAAA,GAAA,+MAAA,CAAA,iBAAc,AAAD,EAAE,qHAAA,CAAA,gBAAa,EAAC;QAAC,SAAQ;QAAO,OAAM;IAAK;IAEpF,MAAM,SAAS,CAAA,GAAA,kIAAA,CAAA,YAAS,AAAD;IAEvB,MAAM,cAAc;QAChB,QAAQ;QACR,MAAM,OAAO,IAAI,OAAO,OAAO;IACnC;IAGD,qBACK,wPAAC;QAAI,WAAU;;0BACX,wPAAC;gBAAK,WAAY;gBAAuC,SAAW,IAAI,QAAQ;0BAAO;;;;;;YACtF,sBAAS,wPAAC;gBAAI,WAAU;0BACrB,cAAA,wPAAC;oBAAK,QAAQ,CAAC,WAAW,WAAW;4BAAC;4BAAS,OAAM,OAAO,cAAa;wBAAE;oBAAI,WAAU;;sCAErF,wPAAC;sCAAG;;;;;;sCACR,wPAAC;4BAAI,WAAU;sCAAyB;;;;;;sCAK3C,wPAAC,oJAAA,CAAA,kBAAe;4BACf,cAAa;4BACb,WAAW,CAAC,SAAW,SAAS,OAAO,IAAI;sCAE1C,CAAC,EAAE,IAAI,EAAE;gCACR,qBACE,wPAAC;oCACC,WAAU;oCACV,SAAS,IAAM;;sDAEf,wPAAC;4CAAM,SAAQ;sDAAG;;;;;;sDAClB,wPAAC;4CAAI,WAAU;;8DACb,wPAAC,6HAAA,CAAA,UAAK;oDACJ,KAAK,KAAK,KAAK,IAAI;oDACnB,KAAI;oDACJ,OAAO;oDACP,QAAQ;oDACR,WAAU;;;;;;8DAEZ,wPAAC;oDAAK,WAAU;8DAAkC;;;;;;;;;;;;;;;;;;4BAM1D;;;;;;sCAGE,wPAAC;4BAAI,WAAU;;8CAEX,wPAAC;oCAAI,WAAU;;sDACX,wPAAC;4CAAM,SAAQ;4CAAG,WAAU;sDAAyB;;;;;;sDACrD,wPAAC;4CAAM,MAAK;4CAAO,aAAa,KAAK,IAAI,IAAI;4CAAQ,WAAU;4CAAkD,MAAK;;;;;;;;;;;;8CAI1H,wPAAC;oCAAI,WAAU;;sDACX,wPAAC;4CAAM,SAAQ;4CAAG,WAAU;sDAAyB;;;;;;sDACrD,wPAAC;4CAAM,MAAK;4CAAO,aAAa,KAAK,OAAO,IAAI;4CAAI,WAAU;4CAAmD,MAAK;;;;;;;;;;;;8CAI1H,wPAAC;oCAAI,WAAU;;sDACX,wPAAC;4CAAM,SAAQ;4CAAG,WAAU;sDAAyB;;;;;;sDACrD,wPAAC;4CAAM,MAAK;4CAAO,aAAa,KAAK,WAAW,IAAI;4CAAuB,WAAU;4CAAmD,MAAK;;;;;;;;;;;;8CAIjJ,wPAAC;oCAAI,WAAU;;sDACX,wPAAC;4CAAM,SAAQ;4CAAG,WAAU;sDAAyB;;;;;;sDACrD,wPAAC;4CAAM,MAAK;4CAAO,aAAa,KAAK,IAAI,IAAI;4CAAY,WAAU;4CAAmD,MAAK;;;;;;;;;;;;8CAI/H,wPAAC;oCAAI,WAAU;;sDACX,wPAAC;4CAAM,SAAQ;4CAAG,WAAU;sDAAyB;;;;;;sDACrD,wPAAC;4CAAM,MAAK;4CAAO,aAAa,KAAK,MAAM,IAAI;4CAAQ,WAAU;4CAAmD,MAAK;;;;;;;;;;;;8CAI7H,wPAAC;oCAAI,WAAU;;sDACX,wPAAC;4CAAM,SAAQ;4CAAG,WAAU;sDAAyB;;;;;;sDACrD,wPAAC;4CAAM,MAAK;4CAAO,aAAa,KAAK,IAAI,IAAI;4CAAO,WAAU;4CAAmD,MAAK;;;;;;;;;;;;8CAG1H,wPAAC;oCAAI,WAAU;;sDACX,wPAAC;4CAAM,SAAQ;4CAAG,WAAU;sDAAyB;;;;;;sDACrD,wPAAC;4CAAM,MAAK;4CAAO,aAAa,KAAK,OAAO,IAAI;4CAAY,WAAU;4CAAmD,MAAK;;;;;;;;;;;;;;;;;;sCAItI,wPAAC,sJAAA,CAAA,UAAY;;;;;wBACZ,MAAM,OAAO,kBAAI,wPAAC;4BAAK,WAAU;sCAAiB;;;;;;wBAClD,MAAM,KAAK,kBAAI,wPAAC;4BAAK,WAAU;sCAAe;;;;;;sCAC/C,wPAAC;4BAAI,WAAU;4BAAgD,SAAS;sCAAa;;;;;;;;;;;;;;;;;;;;;;;AAQrG;uCAEe"}},
    {"offset": {"line": 1470, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1475, "column": 0}, "map": {"version":3,"sources":["turbopack://[project]/src/app/components/StoryList.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { addStory } from \"@/lib/actions\"\r\nimport { useUser } from \"@clerk/nextjs\"\r\nimport { Story, User } from \"@prisma/client\"\r\nimport { CldUploadWidget } from \"next-cloudinary\"\r\nimport Image from \"next/image\"\r\nimport { useOptimistic, useState } from \"react\"\r\n\r\ntype StoryWithUser = Story & {\r\n    user:User\r\n}\r\nconst StoryList = ({stories,userId}:{stories:StoryWithUser[], userId:string})=>{\r\n\r\n    const [storyList,setStoryList]= useState(stories)\r\n    const [img,setImg]= useState<any>()\r\n    const {user} = useUser()\r\n\r\n\r\n\r\n    const add = async ()=> {\r\n        if(!img?.secure_url) return \r\n\r\n        addOptimisticStory({\r\n            id:Math.random(),\r\n            img:img.secure_url,\r\n            createdAt:new Date(Date.now()),\r\n            expiresAt:new Date(Date.now() + 24 * 60 * 60 * 1000),\r\n            userId:userId,\r\n            user:{\r\n            id:userId,\r\n            username:\"Sending...\",\r\n            avatar:user?.imageUrl || \"/noAvatar.png\",\r\n            cover:\"\",\r\n            description:\"\",\r\n            name:\"\",\r\n            city:\"\",\r\n            surname:\"\",\r\n            work:\"\",\r\n            school:\"\",\r\n            website:\"\",\r\n            createdAt: new Date(Date.now()),\r\n            }\r\n        })\r\n\r\n        try{\r\n            const createdStory = await addStory(img.secure_url)\r\n            setStoryList(prev =>[createdStory!, ...prev])\r\n            setImg(null)\r\n        }catch(err){\r\n            console.log(err)\r\n        }\r\n    }\r\n\r\n    const [optimisticStories,addOptimisticStory] = useOptimistic(\r\n        storyList,\r\n        (state, value: StoryWithUser )=>[value, ...state]\r\n);\r\n\r\n    return(\r\n        <>\r\n            <CldUploadWidget\r\n              uploadPreset=\"social\"\r\n              onSuccess={(result,{widget}) => {setImg(result.info); widget.close()}}\r\n            >\r\n              {({ open }) => {\r\n                return (\r\n                    <div \r\n                     className=\"flex flex-col items-center gap-2 cursor-pointer relative\">\r\n                    <Image src={img?.secure_url|| user?.imageUrl || \"/noAvatar.png\"} alt =\"\" width={80} height={80} \r\n                    className=\" w-20 h-20 rounded-full ring-2 object-cover\"\r\n                    onClick={()=> open()}\r\n                    />\r\n                    {img? \r\n                    (<form action={add}>\r\n                        <button className=\"text-xs bg-blue-500 p-1 rounded-md text-white\">Send</button>\r\n                    </form>\r\n                    ):(\r\n                    <span className =\" font-medium \">Add a Story</span>)}\r\n                    <div className=\"absolute text-6xl text-gray-200 top-1\"> + </div>\r\n                    </div>\r\n            \r\n                );\r\n              }}\r\n            </CldUploadWidget>\r\n\r\n        {/* STORY */}\r\n       {optimisticStories.map(story =>(\r\n        <div className=\"flex flex-col items-center gap-2 cursor-pointer\" key = {story.id}>\r\n        <Image src={story.user.avatar || \"/noAvatar.png\"} alt =\"\" width={80} height={80} className=\" w-20 h-20 rounded-full ring-2\"/>\r\n        <span className =\" font-medium \">{story.user.name || story.user.username}</span>\r\n        </div>\r\n        ))\r\n        }\r\n\r\n        </>\r\n    )\r\n}\r\n\r\nexport default StoryList"],"names":[],"mappings":";;;;;;;;;;AAAA;;;;;;;AAYA,MAAM,YAAY,CAAC,EAAC,OAAO,EAAC,MAAM,EAA0C;IAExE,MAAM,CAAC,WAAU,aAAa,GAAE,CAAA,GAAA,+MAAA,CAAA,WAAQ,AAAD,EAAE;IACzC,MAAM,CAAC,KAAI,OAAO,GAAE,CAAA,GAAA,+MAAA,CAAA,WAAQ,AAAD;IAC3B,MAAM,EAAC,IAAI,EAAC,GAAG,CAAA,GAAA,4JAAA,CAAA,UAAO,AAAD;IAIrB,MAAM,MAAM;QACR,IAAG,CAAC,KAAK,YAAY;QAErB,mBAAmB;YACf,IAAG,KAAK,MAAM;YACd,KAAI,IAAI,UAAU;YAClB,WAAU,IAAI,KAAK,KAAK,GAAG;YAC3B,WAAU,IAAI,KAAK,KAAK,GAAG,KAAK,KAAK,KAAK,KAAK;YAC/C,QAAO;YACP,MAAK;gBACL,IAAG;gBACH,UAAS;gBACT,QAAO,MAAM,YAAY;gBACzB,OAAM;gBACN,aAAY;gBACZ,MAAK;gBACL,MAAK;gBACL,SAAQ;gBACR,MAAK;gBACL,QAAO;gBACP,SAAQ;gBACR,WAAW,IAAI,KAAK,KAAK,GAAG;YAC5B;QACJ;QAEA,IAAG;YACC,MAAM,eAAe,MAAM,CAAA,GAAA,qHAAA,CAAA,WAAQ,AAAD,EAAE,IAAI,UAAU;YAClD,aAAa,CAAA,OAAO;oBAAC;uBAAkB;iBAAK;YAC5C,OAAO;QACX,EAAC,OAAM,KAAI;YACP,QAAQ,GAAG,CAAC;QAChB;IACJ;IAEA,MAAM,CAAC,mBAAkB,mBAAmB,GAAG,CAAA,GAAA,+MAAA,CAAA,gBAAa,AAAD,EACvD,WACA,CAAC,OAAO,QAAwB;YAAC;eAAU;SAAM;IAGrD,qBACI;;0BACI,wPAAC,oJAAA,CAAA,kBAAe;gBACd,cAAa;gBACb,WAAW,CAAC,QAAO,EAAC,MAAM,EAAC;oBAAM,OAAO,OAAO,IAAI;oBAAG,OAAO,KAAK;gBAAE;0BAEnE,CAAC,EAAE,IAAI,EAAE;oBACR,qBACI,wPAAC;wBACA,WAAU;;0CACX,wPAAC,6HAAA,CAAA,UAAK;gCAAC,KAAK,KAAK,cAAa,MAAM,YAAY;gCAAiB,KAAK;gCAAG,OAAO;gCAAI,QAAQ;gCAC5F,WAAU;gCACV,SAAS,IAAK;;;;;;4BAEb,oBACA,wPAAC;gCAAK,QAAQ;0CACX,cAAA,wPAAC;oCAAO,WAAU;8CAAgD;;;;;;;;;;qDAGtE,wPAAC;gCAAK,WAAW;0CAAgB;;;;;;0CACjC,wPAAC;gCAAI,WAAU;0CAAwC;;;;;;;;;;;;gBAI7D;;;;;;YAIN,kBAAkB,GAAG,CAAC,CAAA,sBACtB,wPAAC;oBAAI,WAAU;;sCACf,wPAAC,6HAAA,CAAA,UAAK;4BAAC,KAAK,MAAM,IAAI,CAAC,MAAM,IAAI;4BAAiB,KAAK;4BAAG,OAAO;4BAAI,QAAQ;4BAAI,WAAU;;;;;;sCAC3F,wPAAC;4BAAK,WAAW;sCAAiB,MAAM,IAAI,CAAC,IAAI,IAAI,MAAM,IAAI,CAAC,QAAQ;;;;;;;mBAFA,MAAM,EAAE;;;;;;;AASxF;uCAEe"}},
    {"offset": {"line": 1632, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}